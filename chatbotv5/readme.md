## 训练
python demo.py train

## 预测
python demo.py predict

#### 效果如下：
<pre>
[root@localhost $] python demo.py predict
Building prefix dict from the default dictionary ...
Loading model from cache
/var/folders/tq/c0kp5y857x138x5vf8bzxfc80000gp/T/jieba.cache
Loading model cost 0.969 seconds.
Prefix dict has been built succesfully.
> 你好
你 也好 ~
> 呵呵
傻 逼 呵呵
> 哈哈
笑 屁
> 你是谁
我 是 小猴子
> 早
WARN：词汇不在服务区
> 早上好
哈哈
> 屁
你 屁 会
> 滚蛋
WARN：词汇不在服务区
> 傻逼
他妈 逼 的
</pre>

## 代码讲解
欢迎关注[www.shareditor.com](http://www.shareditor.com/)最新文章




training:
--------------------------------------------------------------------------------
encoder_inputs:  
[
<tf.Tensor 'encoder0:0' shape=(?,) dtype=int32>, 
<tf.Tensor 'encoder1:0' shape=(?,) dtype=int32>, 
<tf.Tensor 'encoder2:0' shape=(?,) dtype=int32>, 
<tf.Tensor 'encoder3:0' shape=(?,) dtype=int32>, 
<tf.Tensor 'encoder4:0' shape=(?,) dtype=int32>
]

outputs:  
[
<tf.Tensor 'embedding_attention_seq2seq/embedding_attention_decoder/attention_decoder/AttnOutputProjection/BiasAdd:0' shape=(?, 90) dtype=float32>, 
<tf.Tensor 'embedding_attention_seq2seq/embedding_attention_decoder/attention_decoder/AttnOutputProjection_1/BiasAdd:0' shape=(?, 90) dtype=float32>, 
<tf.Tensor 'embedding_attention_seq2seq/embedding_attention_decoder/attention_decoder/AttnOutputProjection_2/BiasAdd:0' shape=(?, 90) dtype=float32>, 
<tf.Tensor 'embedding_attention_seq2seq/embedding_attention_decoder/attention_decoder/AttnOutputProjection_3/BiasAdd:0' shape=(?, 90) dtype=float32>, 
<tf.Tensor 'embedding_attention_seq2seq/embedding_attention_decoder/attention_decoder/AttnOutputProjection_4/BiasAdd:0' shape=(?, 90) dtype=float32>
]


predict:
--------------------------------------------------------------------------------

input feed:  
{u'encoder4:0': array([4], dtype=int32), 
 u'weight1:0': array([1.], dtype=float32), 
 u'decoder3:0': array([0], dtype=int32), 
 u'decoder5:0': array([0, 0], dtype=int32), 
 u'weight0:0': array([1.], dtype=float32), 
 u'encoder3:0': array([28], dtype=int32), 
 u'decoder2:0': array([0], dtype=int32), 
 u'weight3:0': array([1.], dtype=float32), 
 u'decoder1:0': array([0], dtype=int32), 
 u'decoder0:0': array([1], dtype=int32), 
 u'encoder2:0': array([0], dtype=int32), 
 u'decoder4:0': array([0], dtype=int32), 
 u'encoder1:0': array([0], dtype=int32), 
 u'encoder0:0': array([0], dtype=int32), 
 u'weight2:0': array([1.], dtype=float32), 
 u'weight4:0': array([1.], dtype=float32)
}


outputs:  
[
<tf.Tensor 'embedding_attention_seq2seq/embedding_attention_decoder/attention_decoder/AttnOutputProjection/BiasAdd:0' shape=(?, 90) dtype=float32>, 
<tf.Tensor 'embedding_attention_seq2seq/embedding_attention_decoder/attention_decoder/AttnOutputProjection_1/BiasAdd:0' shape=(?, 90) dtype=float32>, 
<tf.Tensor 'embedding_attention_seq2seq/embedding_attention_decoder/attention_decoder/AttnOutputProjection_2/BiasAdd:0' shape=(?, 90) dtype=float32>, 
<tf.Tensor 'embedding_attention_seq2seq/embedding_attention_decoder/attention_decoder/AttnOutputProjection_3/BiasAdd:0' shape=(?, 90) dtype=float32>, 
<tf.Tensor 'embedding_attention_seq2seq/embedding_attention_decoder/attention_decoder/AttnOutputProjection_4/BiasAdd:0' shape=(?, 90) dtype=float32>
]

outputs_seq:  
[
array([[ 
         2.99282479e+00, -2.83234388e-01,  3.27920723e+00,
        -8.40943813e-01,  1.98943138e+00,  1.98164034e+00,
         1.26112080e+00,  9.18615222e-01,  7.87886381e-01,
         1.72307932e+00,  1.01623189e+00,  6.26104593e-01,
         3.36893409e-01,  4.46675345e-04,  1.33340254e-01,
        -1.60932034e-01, -1.31548300e-01,  3.46182883e-01,
         3.72923344e-01, -7.33198225e-01, -7.55881965e-02,
         2.86493123e-01, -6.29078031e-01, -3.09659421e-01,
        -6.86339512e-02,  1.49193272e-01, -2.43304074e-01,
        -3.75926971e-01, -5.85507154e-01, -1.14944130e-01,
        -3.21315944e-01,  1.35129631e-01, -5.52465357e-02,
         3.05920281e-02, -1.36217713e-01, -1.32984295e-01,
         4.05653380e-02, -3.43150049e-01, -2.94299453e-01,
        -3.72198164e-01, -3.42540979e-01, -3.95193934e-01,
        -2.53156275e-01, -2.24988371e-01, -1.47462338e-01,
        -3.45203310e-01, -1.31395012e-01, -6.16495907e-01,
        -1.99466810e-01, -1.72658429e-01, -3.89992222e-02,
        -2.63092041e-01, -3.43591601e-01, -6.27463907e-02,
        -1.24618933e-01, -5.26911616e-02, -1.23896465e-01,
        -3.65770817e-01, -9.29527432e-02, -2.43278995e-01,
        -1.22951180e-01, -3.66533488e-01, -2.46434957e-01,
        -2.94407666e-01, -3.76096278e-01, -7.05293864e-02,
        -6.93177521e-01, -2.05738395e-01, -3.78511190e-01,
        -2.85093158e-01, -5.74927330e-01, -2.30066046e-01,
        -2.36799419e-01, -4.68857944e-01, -3.91068786e-01,
        -5.07508159e-01, -4.51002240e-01, -4.64777321e-01,
        -3.14425007e-02, -6.59012973e-01,  7.82103762e-02,
        -3.87035012e-01, -4.92175281e-01, -5.55392861e-01,
         1.42599940e-02, -3.95984918e-01, -5.23293793e-01,
        -3.07835311e-01, -5.54306924e-01, -3.57616037e-01 ]], dtype=float32), 
array([[ 3.161677  , -0.31215346,  3.482874  , -0.89903647,  2.0997677 ,
         2.0803447 ,  1.2986071 ,  0.97813857,  0.88812035,  1.8204325 ,
         1.0774602 ,  0.6519568 ,  0.2882725 ,  0.05091378,  0.16908857,
        -0.12405331, -0.15746628,  0.32760355,  0.397157  , -0.74439365,
        -0.09141517,  0.33430594, -0.6567974 , -0.3202806 , -0.06532829,
         0.15915537, -0.25123808, -0.39533278, -0.6058743 , -0.12634914,
        -0.36187577,  0.16028044, -0.07004761,  0.00555205, -0.13475603,
        -0.13276784,  0.1063982 , -0.38015786, -0.37371817, -0.3904335 ,
        -0.3184799 , -0.3778023 , -0.30840787, -0.239389  , -0.15794387,
        -0.33683756, -0.15933415, -0.62414396, -0.17177409, -0.1905294 ,
        -0.03472893, -0.2429342 , -0.37324288, -0.0690795 , -0.14046341,
        -0.06380428, -0.1108824 , -0.35493153, -0.08126496, -0.24915831,
        -0.15212268, -0.37743565, -0.21867068, -0.2895257 , -0.39377218,
        -0.09550616, -0.7307381 , -0.22431085, -0.37735057, -0.27427107,
        -0.6142386 , -0.24070776, -0.23287563, -0.44642735, -0.44443324,
        -0.51798666, -0.45229304, -0.491657  , -0.05479436, -0.6671187 ,
         0.12751424, -0.41685474, -0.52870554, -0.561452  ,  0.03814483,
        -0.4348741 , -0.59423095, -0.33675787, -0.5922606 , -0.4037846 ]], dtype=float32), 
array([[ 3.2730687 , -0.32879522,  3.6182997 , -0.93807244,  2.1753418 ,
         2.1377792 ,  1.3193662 ,  1.0130205 ,  0.95154643,  1.8903525 ,
         1.1147256 ,  0.6717912 ,  0.25328135,  0.08012415,  0.1916581 ,
        -0.10419317, -0.17431486,  0.32129556,  0.40721315, -0.7519023 ,
        -0.09796944,  0.36457366, -0.67880106, -0.32575983, -0.06609137,
         0.16210155, -0.2530903 , -0.41107354, -0.61532515, -0.12855528,
        -0.38771433,  0.1808652 , -0.07624061, -0.02019984, -0.13301165,
        -0.13277207,  0.15328605, -0.40630245, -0.42393595, -0.40540272,
        -0.30691046, -0.3715617 , -0.34299397, -0.24847639, -0.16550228,
        -0.32633933, -0.1816032 , -0.6289096 , -0.1545465 , -0.19972321,
        -0.03274501, -0.23311266, -0.39000094, -0.07678956, -0.14705187,
        -0.07256964, -0.09538555, -0.35429153, -0.07718657, -0.24944583,
        -0.17797092, -0.387235  , -0.20590565, -0.28555822, -0.40869543,
        -0.10488291, -0.7559199 , -0.23887119, -0.38038352, -0.271532  ,
        -0.6355697 , -0.24439414, -0.23454237, -0.4345876 , -0.47451955,
        -0.52521217, -0.4524724 , -0.5088099 , -0.06653242, -0.6712301 ,
         0.15070343, -0.43963373, -0.5539045 , -0.56709266,  0.05575946,
        -0.46681064, -0.6376723 , -0.35874984, -0.6204578 , -0.43819308]], dtype=float32), 
array([[ 3.3420804 , -0.33929422,  3.7058935 , -0.9635856 ,  2.2245967 ,
         2.1685789 ,  1.3282948 ,  1.033394  ,  0.9946404 ,  1.9378818 ,
         1.1352668 ,  0.6832819 ,  0.22588216,  0.09973092,  0.20445788,
        -0.08905654, -0.18619649,  0.31625038,  0.41080132, -0.7549827 ,
        -0.10187118,  0.38362545, -0.6908399 , -0.32778442, -0.06444823,
         0.16283287, -0.2542761 , -0.42065564, -0.6183671 , -0.12898244,
        -0.40304768,  0.19509742, -0.08075675, -0.04009674, -0.13098726,
        -0.13400984,  0.18693459, -0.421837  , -0.4575592 , -0.41848123,
        -0.2988935 , -0.36663383, -0.36800006, -0.25344628, -0.1715921 ,
        -0.31581318, -0.19673538, -0.62880576, -0.14152992, -0.20686138,
        -0.02898312, -0.2275424 , -0.39993832, -0.08489802, -0.14726484,
        -0.07800934, -0.0837933 , -0.35453406, -0.0737889 , -0.24834023,
        -0.19660948, -0.39194128, -0.19668727, -0.2799366 , -0.4173434 ,
        -0.10786924, -0.77008617, -0.24678949, -0.38438478, -0.26813477,
        -0.6455409 , -0.24459913, -0.23820966, -0.42618144, -0.48812178,
        -0.5291473 , -0.45071322, -0.51604736, -0.07428593, -0.67035717,
         0.16377157, -0.45333165, -0.572464  , -0.5695601 ,  0.06935883,
        -0.48809245, -0.66628015, -0.3741089 , -0.64092875, -0.4611562 ]], dtype=float32), 
array([[ 3.383868  , -0.34634638,  3.7614782 , -0.97978467,  2.256033  ,
         2.1842654 ,  1.3316517 ,  1.045118  ,  1.0229897 ,  1.9705    ,
         1.1461072 ,  0.6899421 ,  0.20607853,  0.11236224,  0.21101348,
        -0.07735748, -0.19461627,  0.3121735 ,  0.4112195 , -0.75621134,
        -0.10467087,  0.39580256, -0.6968715 , -0.32791537, -0.06157682,
         0.16287123, -0.2557606 , -0.42641675, -0.6188801 , -0.12821189,
        -0.41191033,  0.20415018, -0.08406463, -0.05499881, -0.12866351,
        -0.13540266,  0.2103246 , -0.4308553 , -0.48021066, -0.42946827,
        -0.29355276, -0.36253434, -0.38590896, -0.2557884 , -0.17625114,
        -0.30722132, -0.2063201 , -0.6270405 , -0.13161914, -0.21211246,
        -0.02470777, -0.22478443, -0.40641156, -0.092044  , -0.1444595 ,
        -0.08092368, -0.07579843, -0.3547404 , -0.07103802, -0.24708371,
        -0.20904598, -0.39414147, -0.18985856, -0.2742913 , -0.42241955,
        -0.10796431, -0.77786916, -0.25057703, -0.38847333, -0.26477993,
        -0.649516  , -0.24384564, -0.2418967 , -0.42073298, -0.49250787,
        -0.53108513, -0.44889426, -0.5185472 , -0.0785249 , -0.66757566,
         0.17077628, -0.46133685, -0.58568555, -0.5707601 ,  0.07940452,
        -0.50188905, -0.68491197, -0.3844897 , -0.65566653, -0.47643805]], dtype=float32)
]

